<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Página de afiliados</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

<link rel="preload" as="image" href="{{DESKTOP_PRINT}}" media="(min-width: 769px)">
<link rel="preload" as="image" href="{{MOBILE_PRINT}}" media="(max-width: 768px)">

<style>
:root{
  --desktop-bg-image:url('{{DESKTOP_PRINT}}');
  --mobile-bg-image:url('{{MOBILE_PRINT}}');
}

*{margin:0;padding:0;box-sizing:border-box}

html,body{
  height:100%;
  width:100%;
  overflow:hidden;
  font-family:Poppins,sans-serif;
}

/* BACKGROUND */
.background-container{
  position:fixed;
  inset:0;
  background:#000;
  background-image:var(--desktop-bg-image);
  background-size:cover;
  background-position:center;
  filter:brightness(.8);
  z-index:-1;
}

@media(max-width:768px){
  .background-container{
    background-image:var(--mobile-bg-image);
  }
}

/* OVERLAY */
#cookie-popup{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  display:flex;
  align-items:center;
  justify-content:center;
  opacity:0;
  pointer-events:none;
  transition:.4s ease;
  z-index:1000;
}

#cookie-popup.show{
  opacity:1;
  pointer-events:auto;
}

/* POPUP */
.popup{
  background:#fff;
  border-radius:20px;
  max-width:600px;
  width:100%;
  padding:40px 32px;
  text-align:center;
  box-shadow:0 25px 50px rgba(0,0,0,.3);
  transform:scale(.95);
  transition:.3s ease;
  position:relative;
}

#cookie-popup.show .popup{transform:scale(1)}

.popup::before{
  content:'';
  position:absolute;
  top:0;
  left:0;
  right:0;
  height:4px;
  background:linear-gradient(90deg,#4f46e5,#7c3aed,#ec4899);
}

h2{
  font-size:28px;
  font-weight:700;
  color:#1f2937;
  margin-bottom:16px;
}

p{
  font-size:16px;
  color:#6b7280;
  line-height:1.5;
  margin-bottom:32px;
}

.buttons{
  display:flex;
  gap:16px;
  justify-content:center;
  margin-bottom:24px;
}

.btn{
  padding:16px 32px;
  border-radius:16px;
  font-size:16px;
  font-weight:600;
  cursor:pointer;
  border:2px solid #e5e7eb;
  text-decoration:none;
  min-width:140px;
  transition:.3s ease;
}

.btn-accept{
  background:linear-gradient(135deg,#10b981,#059669);
  color:#fff;
  border-color:#10b981;
}

.btn-accept:hover{
  transform:translateY(-2px);
  box-shadow:0 8px 25px rgba(16,185,129,.35);
}

.btn-close{
  background:#f8fafc;
  color:#374151;
}

.btn-close:hover{
  background:#e5e7eb;
}

.footer{
  border-top:1px solid #e5e7eb;
  padding-top:16px;
  font-size:12px;
  color:#9ca3af;
}

@media(max-width:600px){
  .popup{
    padding:28px 20px;
  }
  .buttons{
    flex-direction:column;
  }
}
</style>
</head>

<body>

<div class="background-container"></div>

<div id="cookie-popup">
  <div class="popup">
    <h2>Política de cookies</h2>
    <p>
      Este site utiliza cookies para personalizar o conteúdo e analisar o tráfego.
      Ao clicar em “Permitir”, você concorda com a nossa política de cookies.
    </p>

    <div class="buttons">
      <button class="btn btn-accept" id="acceptBtn">Permitir</button>
      <button class="btn btn-close" id="closeBtn">Fechar</button>
    </div>

    <div class="footer">Sua privacidade é importante para nós</div>
  </div>
</div>

<script>
const AFFILIATE_LINK = "{{AFFILIATE_LINK}}";
let redirected = false;

function go(){
  if(redirected) return;
  redirected = true;

  if(typeof window.runTrackerRedirect === "function"){
    window.runTrackerRedirect(AFFILIATE_LINK);
  }else{
    window.location.href = AFFILIATE_LINK;
  }
}

document.getElementById('acceptBtn').onclick = go;
document.getElementById('closeBtn').onclick  = go;

window.addEventListener('load',()=>{
  document.getElementById('cookie-popup').classList.add('show');
});
</script>

</body>
</html>
